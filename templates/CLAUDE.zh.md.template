> **语言 (Language)**: [English](CLAUDE.md.template) | 简体中文

# [项目名称] - Claude Code 项目上下文

本文档为 Claude Code 提供在该项目上工作时的全面上下文信息。请根据您的具体项目需求自定义以下各个部分。

---

## 📋 项目概览

**项目名称**: [项目名称]
**技术栈**: [例如：Node.js >= 18.0.0, Python 3.10+, React 18 等]
**用途**: [简要描述项目功能]

### 项目目标

1. **[目标 1]**: [描述]
2. **[目标 2]**: [描述]
3. **[目标 3]**: [描述]

### 架构

```
[项目名称]/
├── [目录1]/       # [描述]
├── [目录2]/       # [描述]
├── [目录3]/       # [描述]
└── [目录4]/       # [描述]
```

### 开发理念

- **[原则 1]**: [描述]
- **[原则 2]**: [描述]
- **[原则 3]**: [描述]

---

## 💻 编码规范

### 特定语言的风格指南

#### 命名约定

```[language]
// 变量和函数：[约定]
const [示例] = '[值]';
function [示例函数]() { }

// 类和构造函数：[约定]
class [示例类] { }

// 常量：[约定]
const [示例常量] = '[值]';

// 私有属性：[约定]
class [示例服务] {
  [#privateField] = 'value';
}

// 布尔变量：[约定]
const [isActive] = true;
const [hasPermission] = false;
```

#### 代码风格

```[language]
// ✅ 正确：[良好实践的描述]
[代码示例]

// ❌ 错误：[不良实践的描述]
[代码示例]
```

#### 文件组织

```[language]
// 1. 导入：[排序规则]
[导入示例]

// 2. 常量
[常量示例]

// 3. 主要代码
[代码结构]

// 4. 导出
[导出示例]
```

#### 错误处理

```[language]
// ✅ 正确：[描述]
[错误处理示例]

// ❌ 错误：[描述]
[错误示例]
```

### 导入排序规则

1. [规则 1]
2. [规则 2]
3. [规则 3]

---

## 🧪 测试标准

### 测试驱动开发 (TDD)

#### 阶段 1: RED - 编写一个失败的测试

**提示模板:**
```
我想实现 [功能]。遵循 TDD，请：

1. 为 [特定行为] 编写一个失败的测试
2. 测试应该验证 [预期结果]
3. 使用描述性的测试名称，遵循以下模式："should [行为] when [条件]"
4. 包括正常路径和边缘情况

暂时不要实现功能 - 只编写测试。
```

#### 阶段 2: GREEN - 使测试通过

**提示模板:**
```
测试现在正在失败（符合预期）。请实现使此测试通过所需的最少代码。

要求：
- 只关注使测试通过
- 不要添加额外的功能或优化
- 使用最简单可行的解决方案
```

#### 阶段 3: REFACTOR - 改进代码

**提示模板:**
```
测试已经通过。现在让我们重构以改进：

1. 代码结构和组织
2. 消除重复（DRY 原则）
3. 改进命名和清晰度
4. 添加适当的错误处理
5. 提取可重用的函数/类

确保重构后所有测试仍然通过。
```

### 测试结构

```[language]
describe('[功能名称]', () => {
  // 设置
  beforeEach(() => {
    // 初始化测试数据
  });

  // 清理
  afterEach(() => {
    // 清理
  });

  describe('[方法名称]', () => {
    it('should [预期行为] when [条件]', () => {
      // Arrange：设置测试数据
      const input = [测试数据];
      const expected = [预期结果];

      // Act：执行被测代码
      const actual = [被测函数](input);

      // Assert：验证结果
      expect(actual).toBe(expected);
    });
  });
});
```

### 测试命名约定

```[language]
// ✅ 正确：描述性、关注行为
it('should return 404 when [资源] does not exist', () => {});
it('should create [资源] with [属性]', () => {});

// ❌ 错误：模糊、关注实现
it('works', () => {});
it('test [功能]', () => {});
```

---

## 🔄 开发工作流

### 功能开发工作流

1. **理解需求**
   - [步骤详情]

2. **规划实现**
   - [步骤详情]

3. **编写测试 (TDD)**
   - [步骤详情]

4. **实现功能**
   - [步骤详情]

5. **重构**
   - [步骤详情]

6. **文档**
   - [步骤详情]

7. **审查**
   - [步骤详情]

### 错误修复工作流

1. **重现错误**
   - [步骤详情]

2. **修复错误**
   - [步骤详情]

3. **添加回归测试**
   - [步骤详情]

4. **记录修复**
   - [步骤详情]

---

## 🔐 安全指南

### 输入验证

```[language]
// ✅ 正确：验证所有用户输入
[验证示例]

// ❌ 错误：信任用户输入
[错误示例]
```

### 密钥管理

```[language]
// ✅ 正确：使用环境变量
const apiKey = process.env.API_KEY;

// ❌ 错误：硬编码密钥
const apiKey = 'sk-1234567890abcdef';  // 永远不要这样做
```

### [安全问题 1]

```[language]
// ✅ 正确：[安全方法]
[代码示例]

// ❌ 错误：[不安全方法]
[代码示例]
```

---

## 📝 文档标准

### 内联注释

```[language]
// ✅ 正确：解释为什么，而不是做什么
// [解释为什么选择这种方法]
[代码]

// ❌ 错误：陈述显而易见的事情
// [关于代码做什么的明显陈述]
[代码]
```

### API 文档

```[language]
/**
 * [函数描述]
 * @param {[类型]} [参数名] - [描述]
 * @returns {[类型]} [描述]
 * @throws {[错误类型]} [何时发生此错误]
 */
[函数签名]
```

---

## 🎯 Claude Code 使用技巧

### 有效的提示

**具体明确:**
```
❌ "添加验证"
✅ "[带有上下文的具体指令]"
```

**提供上下文:**
```
❌ "修复错误"
✅ "[详细描述问题和上下文]"
```

**分解复杂任务:**
```
❌ "构建一个完整的 [功能]"
✅ "让我们逐步构建 [功能]：
   1. [步骤 1]
   2. [步骤 2]
   3. [步骤 3]"
```

---

## 📦 项目特定说明

### [自定义部分 1]

[项目特定的详细信息]

### [自定义部分 2]

[项目特定的详细信息]

### 文件排除

Claude Code 不应访问：
- [文件/目录 1] - [原因]
- [文件/目录 2] - [原因]
- [文件/目录 3] - [原因]

请参阅 `.claudeignore` 以获取完整列表。

---

## 🚀 常用命令

### [技术] 命令

```bash
# [命令描述]
[命令]

# [命令描述]
[命令]
```

### 测试命令

```bash
# 运行所有测试
[命令]

# 运行特定测试文件
[命令]

# 运行测试覆盖率
[命令]
```

---

**最后更新**: [日期]
**维护者**: [团队/人员]

---

## 自定义说明

要将此模板适配到您的项目：

1. **替换所有 [占位符]** 为您的项目特定信息
2. **删除不适用的部分** 到您的项目
3. **添加自定义部分** 以满足项目特定需求
4. **更新示例** 以匹配您的代码库模式
5. **保持简洁** - 目标最大 15-20KB
6. **定期审查** - 随着项目发展而更新

### 需要自定义的关键部分

- [ ] 项目概览（名称、技术栈、目标）
- [ ] 架构图
- [ ] 编码标准（特定语言）
- [ ] 测试框架和模式
- [ ] 安全要求
- [ ] 常用命令和工作流
- [ ] 文件排除（.claudeignore）

### 有效 CLAUDE.md 的技巧

1. **具体明确**: 项目特定的模式比通用建议更有用
2. **展示示例**: 代码示例比描述更有价值
3. **定期更新**: 保持与不断演变的代码库同步
4. **链接到文档**: 在适当时引用外部文档
5. **版本控制**: 跟踪变更以了解指南如何演变
